# layer 1
+ 用户
+ 前端网页
+ 后端

# layer 2
## 前端
### 自身组件
+ 数据展示面板: 使用nof0的现有框架
+ 操作面板
  + 模型选择栏
    + 根据 `llm` 模块提供的 `可供使用模型列表` 给出当前可用llm模型
    + 得到 `已选模型`
  + prompts编辑输入栏
    + 输入system prompts
      + 保存在后端data文件夹中
    + 用户当前prompts输入
      + 保存在后端data文件夹中
  + 交易对选择
    + 默认为 BTC,ETH,SOL,BNB,DOGE,XRP
      + 模型可以在这几个交易对中自行决定选择其中一个或多个进行交易
  + 交易类型选择
    + 四个选项：
      + 现货测试
      + 现货实盘
      + U本位永续合约测试
      + U本位永续合约实盘
  + 交易启动/暂停/停止按钮
    + 点击启动时，需要上述选项均已确定，并且弹窗显示用户对应交易类型账户资金，和持仓情况，提示用户请仔细确认信息准确无误，在确定无误后进行交易启动确认.

## 后端
### 基于ccxt的数据获取与交易系统
+ 信息接收
  + 交易类型
+ 定时数据获取
  + 公开数据获取
    + K线，成交量等交易数据
      + 保存数据
  + 用户个人数据
    + 资金，持仓
    + 保存数据
+ 交易命令执行器
  + 执行llm生成的交易决策
  + 执行用户的启动/暂停/停止交易行为
    + 需要根据交易类型选择不同的处理逻辑

### ai交易决策agent
+ model提供器
  + deepseek api(openai sdk调用)
  + qwen api（openai sdk调用）
+ ai trader
  + 使用 model提供器选择的model
  + 接收 `公开数据`, `个人数据`
  + 接收 `system prompts`, `user_prompts`
  + 生成`交易策略`
  + 生成`交易命令`
